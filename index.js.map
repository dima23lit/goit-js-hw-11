{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport function getImagesByQuery(query) {\n    let APIKEY = '44929150-af2bf51de3b27508be12093c9';\n\n    return axios.get(\"https://pixabay.com/api/\", {\n        params: {\n            key: APIKEY,\n            q: query,\n            image_type: \"photo\",\n            orientation: \"horizontal\",\n            safesearch: true\n        }\n    })\n        .then(response => \n            response.data\n    )\n    \n}","// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('#loader');\n\nexport function createGallery(images) {\n\n    gallery.insertAdjacentHTML('beforeend', images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) =>\n        `<li class=\"gallery-item\">\n           <a class=\"gallery-link\" href=\"${largeImageURL}\">\n           <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\"/>\n           <div class=\"social-items\">\n              <div class=\"field\">\n              <span class=\"value\" data-likes>Likes</span>\n              <span class=\"label\">${likes}</span>\n              </div>\n              <div class=\"field\">\n              <span class=\"value\" data-views>Views</span>\n              <span class=\"label\">${views}</span>\n              </div>\n              <div class=\"field\">\n              <span class=\"value\" data-comments>Coments</span>\n              <span class=\"label\">${comments}</span>\n              </div>\n              <div class=\"field\">\n              <span class=\"value\" data-downloads>Downloads<span>\n              <span class=\"label\">${downloads}</span>\n              </div>\n           </div>\n           </a>\n           </li>`\n    ).join(\"\"))\n\n    let simpleLightboxnew = new SimpleLightbox('.gallery li a', {\n        captions: true,\n        captionSelector: 'a img',\n        captionType: 'attr',\n        captionsData: 'alt',\n        captionDelay: 250\n    });\n                            \n    simpleLightboxnew.on(\"show.simplelightbox\")\n    simpleLightboxnew.refresh(\"show.simplelightbox\")\n}\n\nexport function clearGallery() {\n    gallery.innerHTML = '';\n}\n\nexport function showLoader() {\n    loader.style.display = \"inline-block\"\n}\n\nexport function hideLoader() {\n    loader.style.display = \"none\"\n}","import { getImagesByQuery } from \"./js/pixabay-api\";\nimport { createGallery, clearGallery, showLoader, hideLoader } from \"./js/render-functions\";\n\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', handleForm);\n\nfunction handleForm(event) {\n    event.preventDefault()\n\n    if (event.target.elements[0].value === \"\") {\n        alert('Please, fill out the form')\n        return\n    }\n    clearGallery()\n    showLoader()\n\n    getImagesByQuery(event.target.elements[0].value)\n        .then(response => {\n            if (response.hits.length >= 1) {\n                console.log(response.hits)\n                createGallery(response.hits)\n            }\n            else {\n                iziToast.show({\n                    message: \"Sorry, there are no images matching your search query. Please try again!\",\n                    position: 'topRight',\n                    backgroundColor: '#EF4040',\n                    titleColor: '#fff',\n                    messageColor: '#fff',\n                    close: true,\n                }\n                )\n            }\n        })\n        .catch(error =>\n        error\n    )\n        .finally(() => \n        hideLoader()\n    )\n\n    form.reset()\n}"],"names":["getImagesByQuery","query","axios","response","gallery","loader","createGallery","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","simpleLightboxnew","SimpleLightbox","clearGallery","showLoader","hideLoader","form","handleForm","event","iziToast","error"],"mappings":"owBAEO,SAASA,EAAiBC,EAAO,CAGpC,OAAOC,EAAM,IAAI,2BAA4B,CACzC,OAAQ,CACJ,IAJK,qCAKL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACf,CACT,CAAK,EACI,KAAKE,GACFA,EAAS,IAChB,CAEL,CCbA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAExC,SAASC,EAAcC,EAAQ,CAElCH,EAAQ,mBAAmB,YAAaG,EAAO,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IACxH;AAAA,2CACmCL,CAAa;AAAA,6CACXD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,oCAInCC,CAAK;AAAA;AAAA;AAAA;AAAA,oCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,oCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,oCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,iBAK7C,EAAM,KAAK,EAAE,CAAC,EAEV,IAAIC,EAAoB,IAAIC,EAAe,gBAAiB,CACxD,SAAU,GACV,gBAAiB,QACjB,YAAa,OACb,aAAc,MACd,aAAc,GACtB,CAAK,EAEDD,EAAkB,GAAG,qBAAqB,EAC1CA,EAAkB,QAAQ,qBAAqB,CACnD,CAEO,SAASE,GAAe,CAC3Bb,EAAQ,UAAY,EACxB,CAEO,SAASc,GAAa,CACzBb,EAAO,MAAM,QAAU,cAC3B,CAEO,SAASc,GAAa,CACzBd,EAAO,MAAM,QAAU,MAC3B,CClDA,MAAMe,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAUC,CAAU,EAE1C,SAASA,EAAWC,EAAO,CAGvB,GAFAA,EAAM,eAAgB,EAElBA,EAAM,OAAO,SAAS,CAAC,EAAE,QAAU,GAAI,CACvC,MAAM,2BAA2B,EACjC,MACH,CACDL,EAAc,EACdC,EAAY,EAEZlB,EAAiBsB,EAAM,OAAO,SAAS,CAAC,EAAE,KAAK,EAC1C,KAAKnB,GAAY,CACVA,EAAS,KAAK,QAAU,GACxB,QAAQ,IAAIA,EAAS,IAAI,EACzBG,EAAcH,EAAS,IAAI,GAG3BoB,EAAS,KAAK,CACV,QAAS,2EACT,SAAU,WACV,gBAAiB,UACjB,WAAY,OACZ,aAAc,OACd,MAAO,EACV,CACA,CAEjB,CAAS,EACA,MAAMC,GACPA,CACH,EACI,QAAQ,IACTL,EAAY,CACf,EAEDC,EAAK,MAAO,CAChB"}